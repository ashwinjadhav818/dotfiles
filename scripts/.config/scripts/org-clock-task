#!/usr/bin/env bash

ICON="ó°”Ÿ"

# --- read raw emacsclient output ---
out="$(emacsclient -e "(my/org-clock-task-and-time)" 2>&1)"

# --- strip ALL quotes ---
out="${out//\"/}"

# --- trim leading & trailing whitespace ---
out="$(echo "$out" | sed 's/^[[:space:]]*//;s/[[:space:]]*$//')"

# --- treat '=', empty, or whitespace-only as empty ---
if [[ "$out" == "=" ]] || [[ -z "$out" ]]; then
    echo "No clocks running."
    exit 0
fi

echo "$out"

