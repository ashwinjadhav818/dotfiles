[config]
version_check = false
fallback_color = "#ffbf9b"
caching = true

[config.wallpaper]
set = true
command = "swww"
# Matugen automatically adds the image path as the last argument
arguments = ["img", "--transition-type", "grow", "--transition-pos", "0.85,0.85", "--transition-fps", "60"]

[templates.hyprland]
input_path = '~/.config/matugen/templates/hyprland.conf'
output_path = '~/.config/colors/hyprland.conf'

[templates.waybar]
input_path = '~/.config/matugen/templates/waybar.css'
output_path = '~/.config/colors/waybar.css'
# Post-hook to tell Waybar to reload its CSS instantly
post_hook = "pkill waybar && waybar & diswon"

[templates.rofi]
input_path = '~/.config/matugen/templates/rofi.rasi'
output_path = '~/.config/colors/rofi.rasi'

[templates.foot]
input_path = '~/.config/matugen/templates/foot.ini'
output_path = '~/.config/colors/foot.ini'

[templates.gtk3]
input_path = '~/.config/matugen/templates/gtk.css'
output_path = '~/.config/gtk-3.0/gtk.css'

[templates.gtk4]
input_path = '~/.config/matugen/templates/gtk.css'
output_path = '~/.config/gtk-4.0/gtk.css'

# This hook forces GTK apps to "notice" the color change
post_hook = "gsettings set org.gnome.desktop.interface color-scheme 'prefer-dark'"

[templates.qutebrowser]
input_path = '~/.config/matugen/templates/qutebrowser.py'
output_path = '~/.config/colors/qutebrowser.py'
# Use --load to target profiles directly, bypassing the interactive menu
post_hook = "~/.config/scripts/qute-reload"

[templates.swaync]
input_path = '~/.config/matugen/templates/swaync.css'
output_path = '~/.config/colors/swaync.css'
# Signal swaync to reload the CSS live
post_hook = "swaync-client -R && swaync-client -rs"

[templates.kitty]
input_path = '~/.config/matugen/templates/kitty.conf'
output_path = '~/.config/colors/kitty.conf'
post_hook = "pkill -SIGUSR1 kitty"
